(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();function a(){try{const o=document.getElementById("burger");if(!o)throw new Error("Элемент burger не найден");const t=o.nextElementSibling;if(!t)throw new Error("Навигационное меню не найдено");o.addEventListener("click",function(){t.classList.toggle("nav-active"),o.classList.toggle("burger-active")})}catch(o){console.error("Ошибка в работе бургер-меню:",o.message)}}function l(){try{const o=document.getElementById("search"),t=document.getElementById("search-results");if(!o||!t)throw new Error("Элементы поиска не найдены");o.addEventListener("input",async function(){const c=this.value.toLowerCase().trim();if(t.innerHTML="",c===""){t.style.display="none";return}try{const s=await fetch(`http://localhost:4000/products?q=${c}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const e=await s.json();if(e.length>0)e.forEach(r=>{const n=document.createElement("button");n.setAttribute("data-product-id",r.id),n.classList.add("search-result-item"),n.textContent=`${r.title} (${r.tons} тонн)`,n.addEventListener("click",function(i){window.location.href=`ProductCard.html?${r.id}`,o.value="",t.style.display="none"}),t.appendChild(n)}),t.style.display="block";else{const r=document.createElement("div");r.textContent="Ничего не найдено",t.appendChild(r),t.style.display="block"}}catch(s){console.error("Ошибка при поиске:",s);const e=document.createElement("div");e.textContent="Ошибка при поиске",t.appendChild(e),t.style.display="block"}}),document.addEventListener("click",function(c){!o.contains(c.target)&&!t.contains(c.target)&&(t.style.display="none")})}catch(o){console.error("Ошибка в работе поиска:",o.message)}}export{l as a,a as h};
//# sourceMappingURL=header.js.map
