{"version":3,"file":"modalWindow.js","sources":["../../JS/Header/modalWindow.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  const forms = document.querySelectorAll(\"form\");\r\n\r\n  forms.forEach((form) => {\r\n    const submitButton = form.querySelector(\".connectionBtn\");\r\n    if (submitButton) {\r\n      form.addEventListener(\"submit\", function (e) {\r\n        e.preventDefault();\r\n\r\n        const modal = document.querySelector(\".modal\");\r\n        if (modal) {\r\n          modal.style.display = \"block\";\r\n        }\r\n\r\n        const formData = new FormData(form);\r\n\r\n        const data = {};\r\n        formData.forEach((value, key) => {\r\n          data[key] = value;\r\n        });\r\n\r\n        fetch(\"http://localhost:4000/submit\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(data),\r\n        })\r\n          .then((response) => {\r\n            if (!response.ok) {\r\n              return response.json().then((err) => {\r\n                throw new Error(err.details || err.error || \"Ошибка при отправке формы\");\r\n              });\r\n            }\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            if (modal) {\r\n              modal.style.display = \"none\";\r\n            }\r\n            \r\n            form.reset();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Ошибка при отправке формы:\", error);\r\n          });\r\n      });\r\n    }\r\n  });\r\n\r\n  const closeButtons = document.querySelectorAll(\".close, #closeModal\");\r\n  closeButtons.forEach((button) => {\r\n    button.addEventListener(\"click\", function () {\r\n      const modal = document.querySelector(\".modal\");\r\n      if (modal) {\r\n        modal.style.display = \"none\";\r\n      }\r\n    });\r\n  });\r\n\r\n  window.addEventListener(\"click\", function (e) {\r\n    const modal = document.querySelector(\".modal\");\r\n    if (e.target === modal) {\r\n      modal.style.display = \"none\";\r\n    }\r\n  });\r\n});\r\n"],"names":["form","e","modal","formData","data","value","key","response","err","error","button"],"mappings":"AAAA,SAAS,iBAAiB,mBAAoB,UAAY,CAC1C,SAAS,iBAAiB,MAAM,EAExC,QAASA,GAAS,CACDA,EAAK,cAAc,gBAAgB,GAEtDA,EAAK,iBAAiB,SAAU,SAAUC,EAAG,CAC3CA,EAAE,eAAc,EAEhB,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EACzCA,IACFA,EAAM,MAAM,QAAU,SAGxB,MAAMC,EAAW,IAAI,SAASH,CAAI,EAE5BI,EAAO,CAAA,EACbD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAKE,CAAG,EAAID,CACtB,CAAS,EAED,MAAM,+BAAgC,CACpC,OAAQ,OACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAUD,CAAI,CACnC,CAAS,EACE,KAAMG,GACAA,EAAS,GAKPA,EAAS,OAJPA,EAAS,KAAI,EAAG,KAAMC,GAAQ,CACnC,MAAM,IAAI,MAAMA,EAAI,SAAWA,EAAI,OAAS,2BAA2B,CACvF,CAAe,CAGJ,EACA,KAAMJ,GAAS,CACVF,IACFA,EAAM,MAAM,QAAU,QAGxBF,EAAK,MAAK,CACtB,CAAW,EACA,MAAOS,GAAU,CAChB,QAAQ,MAAM,6BAA8BA,CAAK,CAC7D,CAAW,CACX,CAAO,CAEP,CAAG,EAEoB,SAAS,iBAAiB,qBAAqB,EACvD,QAASC,GAAW,CAC/BA,EAAO,iBAAiB,QAAS,UAAY,CAC3C,MAAMR,EAAQ,SAAS,cAAc,QAAQ,EACzCA,IACFA,EAAM,MAAM,QAAU,OAE9B,CAAK,CACL,CAAG,EAED,OAAO,iBAAiB,QAAS,SAAUD,EAAG,CAC5C,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EACzCD,EAAE,SAAWC,IACfA,EAAM,MAAM,QAAU,OAE5B,CAAG,CACH,CAAC"}