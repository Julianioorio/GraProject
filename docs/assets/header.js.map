{"version":3,"file":"header.js","sources":["../../JS/Header/header.js"],"sourcesContent":["// Функция бургера в Headere\nexport function headerBurger() {\n  try {\n    const burger = document.getElementById(\"burger\");\n    if (!burger) {\n      throw new Error(\"Элемент burger не найден\");\n    }\n\n    const ul = burger.nextElementSibling;\n    if (!ul) {\n      throw new Error(\"Навигационное меню не найдено\");\n    }\n\n    burger.addEventListener(\"click\", function () {\n      ul.classList.toggle(\"nav-active\");\n      burger.classList.toggle(\"burger-active\");\n    });\n  } catch (error) {\n    console.error(\"Ошибка в работе бургер-меню:\", error.message);\n  }\n}\n\n// Функция поиска в Headere\nexport function headerSearch() {\n  try {\n    const search = document.getElementById(\"search\");\n    const searchResultsContainer = document.getElementById(\"search-results\");\n\n    if (!search || !searchResultsContainer) {\n      throw new Error(\"Элементы поиска не найдены\");\n    }\n\n    search.addEventListener(\"input\", async function () {\n      const searchQuery = this.value.toLowerCase().trim();\n      searchResultsContainer.innerHTML = \"\";\n\n      if (searchQuery === \"\") {\n        searchResultsContainer.style.display = \"none\";\n        return;\n      }\n\n      try {\n        const response = await fetch(`http://localhost:4000/products?q=${searchQuery}`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        if (data.length > 0) {\n          data.forEach((item) => {\n            const resultItem = document.createElement(\"button\");\n            resultItem.setAttribute(\"data-product-id\", item.id);\n            resultItem.classList.add(\"search-result-item\");\n            resultItem.textContent = `${item.title} (${item.tons} тонн)`;\n\n            resultItem.addEventListener(\"click\", function (e) {\n              window.location.href = `ProductCard.html?${item.id}`;\n              search.value = \"\";\n              searchResultsContainer.style.display = \"none\";\n            });\n\n            searchResultsContainer.appendChild(resultItem);\n          });\n          searchResultsContainer.style.display = \"block\";\n        } else {\n          const noResults = document.createElement(\"div\");\n          noResults.textContent = \"Ничего не найдено\";\n          searchResultsContainer.appendChild(noResults);\n          searchResultsContainer.style.display = \"block\";\n        }\n      } catch (error) {\n        console.error(\"Ошибка при поиске:\", error);\n        const errorMessage = document.createElement(\"div\");\n        errorMessage.textContent = \"Ошибка при поиске\";\n        searchResultsContainer.appendChild(errorMessage);\n        searchResultsContainer.style.display = \"block\";\n      }\n    });\n\n    document.addEventListener(\"click\", function (e) {\n      if (!search.contains(e.target) && !searchResultsContainer.contains(e.target)) {\n        searchResultsContainer.style.display = \"none\";\n      }\n    });\n  } catch (error) {\n    console.error(\"Ошибка в работе поиска:\", error.message);\n  }\n}\n"],"names":["headerBurger","burger","ul","error","headerSearch","search","searchResultsContainer","searchQuery","response","data","item","resultItem","e","noResults","errorMessage"],"mappings":"ssBACO,SAASA,GAAe,CAC7B,GAAI,CACF,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/C,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,0BAA0B,EAG5C,MAAMC,EAAKD,EAAO,mBAClB,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,+BAA+B,EAGjDD,EAAO,iBAAiB,QAAS,UAAY,CAC3CC,EAAG,UAAU,OAAO,YAAY,EAChCD,EAAO,UAAU,OAAO,eAAe,CAC7C,CAAK,CACF,OAAQE,EAAO,CACd,QAAQ,MAAM,+BAAgCA,EAAM,OAAO,CAC/D,CACA,CAGO,SAASC,GAAe,CAC7B,GAAI,CACF,MAAMC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAyB,SAAS,eAAe,gBAAgB,EAEvE,GAAI,CAACD,GAAU,CAACC,EACd,MAAM,IAAI,MAAM,4BAA4B,EAG9CD,EAAO,iBAAiB,QAAS,gBAAkB,CACjD,MAAME,EAAc,KAAK,MAAM,YAAW,EAAG,KAAM,EAGnD,GAFAD,EAAuB,UAAY,GAE/BC,IAAgB,GAAI,CACtBD,EAAuB,MAAM,QAAU,OACvC,MACR,CAEM,GAAI,CACF,MAAME,EAAW,MAAM,MAAM,oCAAoCD,CAAW,EAAE,EAC9E,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,MAAMC,EAAO,MAAMD,EAAS,KAAM,EAElC,GAAIC,EAAK,OAAS,EAChBA,EAAK,QAASC,GAAS,CACrB,MAAMC,EAAa,SAAS,cAAc,QAAQ,EAClDA,EAAW,aAAa,kBAAmBD,EAAK,EAAE,EAClDC,EAAW,UAAU,IAAI,oBAAoB,EAC7CA,EAAW,YAAc,GAAGD,EAAK,KAAK,KAAKA,EAAK,IAAI,SAEpDC,EAAW,iBAAiB,QAAS,SAAUC,EAAG,CAChD,OAAO,SAAS,KAAO,oBAAoBF,EAAK,EAAE,GAClDL,EAAO,MAAQ,GACfC,EAAuB,MAAM,QAAU,MACrD,CAAa,EAEDA,EAAuB,YAAYK,CAAU,CACzD,CAAW,EACDL,EAAuB,MAAM,QAAU,YAClC,CACL,MAAMO,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,YAAc,oBACxBP,EAAuB,YAAYO,CAAS,EAC5CP,EAAuB,MAAM,QAAU,OACjD,CACO,OAAQH,EAAO,CACd,QAAQ,MAAM,qBAAsBA,CAAK,EACzC,MAAMW,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,YAAc,oBAC3BR,EAAuB,YAAYQ,CAAY,EAC/CR,EAAuB,MAAM,QAAU,OAC/C,CACA,CAAK,EAED,SAAS,iBAAiB,QAAS,SAAUM,EAAG,CAC1C,CAACP,EAAO,SAASO,EAAE,MAAM,GAAK,CAACN,EAAuB,SAASM,EAAE,MAAM,IACzEN,EAAuB,MAAM,QAAU,OAE/C,CAAK,CACF,OAAQH,EAAO,CACd,QAAQ,MAAM,0BAA2BA,EAAM,OAAO,CAC1D,CACA"}