document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("form").forEach(o=>{o.querySelector(".connectionBtn")&&o.addEventListener("submit",function(c){c.preventDefault();const s=document.querySelector(".modal");s&&(s.style.display="block");const a=new FormData(o),r={};a.forEach((t,e)=>{r[e]=t}),fetch("http://localhost:4000/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(t=>t.ok?t.json():t.json().then(e=>{throw new Error(e.details||e.error||"Ошибка при отправке формы")})).then(t=>{const e=document.createElement("div");e.className="success-message",e.textContent="Форма успешно отправлена!",s.appendChild(e),o.reset()}).catch(t=>{const e=document.createElement("div");e.className="error-message",e.textContent="Произошла ошибка при отправке формы",s.appendChild(e)})})}),document.querySelectorAll(".close, #closeModal").forEach(o=>{o.addEventListener("click",function(){const n=document.querySelector(".modal");n&&(n.style.display="none",n.querySelectorAll(".success-message, .error-message").forEach(s=>s.remove()))})})});
//# sourceMappingURL=modalWindow.js.map
